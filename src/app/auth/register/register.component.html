<section class="register-page">
    <div class="form-container">
      <h2>Registro</h2>
      <form [formGroup]="userForm" (submit)="register()">
        <div class="form-group">
          <label for="name">Nombres:</label>
          <input 
            type="text" 
            class="form-control" 
            id="name" 
            placeholder="Nombre" 
            formControlName="name">
          @if(userForm.get('name')?.invalid && userForm.get('name')?.touched){
            <div class="input-error">
              <span *ngIf="userForm.get('name')?.errors?.['required']">El nombre es requerido.</span>
              <span *ngIf="userForm.get('name')?.errors?.['minlength']">Mínimo 3 caracteres.</span>
              <span *ngIf="userForm.get('name')?.errors?.['maxlength']">Máximo 30 caracteres.</span>
            </div>
          }
        </div>
        
  
        <div class="form-group">
          <label for="email">Email:</label>
          <input 
            type="email" 
            class="form-control" 
            id="email" 
            placeholder="Email" 
            formControlName="email">
          @if(userForm.get('email')?.invalid && userForm.get('email')?.touched){
            <div class="input-error">
              <span *ngIf="userForm.get('email')?.errors?.['required']">El email es requerido.</span>
              <span *ngIf="userForm.get('email')?.errors?.['email']">Por favor ingrese un email válido.</span>
            </div>
          }
        </div>
  
        <div class="form-group">
          <label for="password">Contraseña:</label>
          <input 
            type="password" 
            class="form-control" 
            id="password" 
            placeholder="Contraseña" 
            formControlName="password">
          @if(userForm.get('password')?.invalid && userForm.get('password')?.touched){
            <div class="input-error">
              <span *ngIf="userForm.get('password')?.errors?.['required']">La contraseña es requerida.</span>
              <span *ngIf="userForm.get('password')?.errors?.['pattern']">La contraseña debe contener al menos una letra minúscula, una mayúscula y un número.</span>
            </div>
          }
        </div>
        <div class="form-group">
          <label for="repeatPassword">Repetir contraseña:</label>
          <input 
            type="password" 
            class="form-control" 
            id="repeatPassword" 
            placeholder="Repetir contraseña" 
            formControlName="repeatPassword">
          @if(userForm.get('repeatPassword')?.invalid && userForm.get('repeatPassword')?.touched){
            <div class="input-error">
              <span *ngIf="userForm.get('repeatPassword')?.errors?.['required']">La contraseña es requerida.</span>
            </div>
          }
          @if(passwordDoNotMatch()){
            <div class="input-error">
              <span>Las contraseñas no coinciden.</span>
            </div>
          }
        </div>
  
        
        <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid || passwordDoNotMatch() || isSubmitting">
          {{messageButton}}
        </button>
        <p class="login-link">
          Si ya tienes una cuenta <a routerLink="/auth/login">Inicia Sesión Aqui</a>.
        </p>
      </form>
    </div>
  </section>